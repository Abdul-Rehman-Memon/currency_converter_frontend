<div class="container-fluid">
  <div class="card-header bg-primary text-white p-3 rounded mb-1">
    <h2 class="card-title mb-0 fw-bold fs-4">Conversion History</h2>
  </div>

  <div class="row my-2">
    <form [formGroup]="form" (ngSubmit)="convert()">
      <mat-form-field
        appearance="fill"
        class="col-xl-3 col-md-3 col-sm-6 col-12 px-1"
      >
        <mat-label>Amount</mat-label>
        <input matInput type="number" formControlName="amount" />
      </mat-form-field>

      <mat-form-field
        appearance="fill"
        class="col-xl-3 col-md-3 col-sm-6 col-12 px-1"
      >
        <mat-label>Base Currency</mat-label>
        <mat-select formControlName="base_currency">
          <mat-option *ngFor="let code of currencyCodes" [value]="code">{{
            code
          }}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field
        appearance="fill"
        class="col-xl-3 col-md-3 col-sm-6 col-12 px-1"
      >
        <mat-label>Target</mat-label>
        <mat-select formControlName="currencies">
          <mat-option *ngFor="let code of currencyCodes" [value]="code">{{
            code
          }}</mat-option>
        </mat-select>
      </mat-form-field>

      <button
        mat-raised-button
        color="primary"
        type="submit"
        class="col-xl-3 col-md-3 col-sm-6 col-12 px-1 mb-3"
        style="height: 3.55rem"
        [disabled]="form.invalid"
      >
        Convert
      </button>
    </form>

    <div class="card" *ngIf="convertedAmount">
      <div class="card-body d-flex justify-content-between">
        <div>Base Currency: {{ convertedAmount.base_currency }}</div>
        <div>Target Currency: {{ convertedAmount.currencies }}</div>
        <div>
          Convertion Rate: {{ convertedAmount.rate | number : "1.2-2" }}
        </div>
        <div>Conversion Amount: {{ convertedAmount.amount }}</div>
        <div>
          Conversion Result: {{ convertedAmount.result | number : "1.2-2" }}
        </div>
      </div>
    </div>
  </div>
</div>
